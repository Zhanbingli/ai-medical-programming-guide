# 12.6 完整案例:CT影像分析工具

## 项目目标

构建一个实用的CT影像分析工具,集成所有学过的功能。

## 主要功能

```
CT影像分析工具
├── DICOM读取与显示
├── 多窗位切换(肺/纵隔/骨)
├── 测量工具(距离/面积)
├── 图像增强
├── 批量转换PNG
└── 生成分析报告
```

## 核心代码框架

```python
import streamlit as st
import pydicom
import matplotlib.pyplot as plt

st.title("🩺 CT影像分析工具")

# 上传DICOM
uploaded_file = st.file_uploader("上传DICOM文件", type=['dcm'])

if uploaded_file:
    # 读取
    ds = pydicom.dcmread(uploaded_file)
    image = ds.pixel_array

    # 显示患者信息
    st.subheader("患者信息")
    col1, col2, col3 = st.columns(3)
    col1.metric("姓名", ds.get('PatientName', 'N/A'))
    col2.metric("ID", ds.get('PatientID', 'N/A'))
    col3.metric("日期", ds.get('StudyDate', 'N/A'))

    # 窗位选择
    window = st.selectbox("选择窗位", ["肺窗", "纵隔窗", "骨窗"])

    # 显示图像
    # ... 绘图代码

    # 测量工具
    if st.button("测量"):
        st.info("点击图像两点测量距离")
```

完整代码见GitHub仓库。

## 恭喜!

完成第12章,你已经掌握医学图像处理基础!

## 下一章

[第13章 科研数据可视化](../chapter13/13.1-overview.md) - 制作论文级图表
