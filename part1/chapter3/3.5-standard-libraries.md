# 3.5 å¿…å¤‡æ ‡å‡†åº“

> Pythonæ ‡å‡†åº“ = å¼€ç®±å³ç”¨çš„å·¥å…·ç®±,æ— éœ€å®‰è£…,importå³å¯ä½¿ç”¨

## ä¸ºä»€ä¹ˆå­¦ä¹ æ ‡å‡†åº“?

```
Pythonå“²å­¦: "Batteries Included" (è‡ªå¸¦ç”µæ± )

æ„æ€: æ ‡å‡†åº“åŠŸèƒ½å¼ºå¤§,æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚
å¥½å¤„: ä¸ç”¨é‡å¤é€ è½®å­,æé«˜å¼€å‘æ•ˆç‡
```

## 1. os - æ–‡ä»¶è·¯å¾„æ“ä½œ

### 1.1 è·¯å¾„æ“ä½œ

```python
import os

# è·å–å½“å‰å·¥ä½œç›®å½•
current_dir = os.getcwd()
print(f"å½“å‰ç›®å½•: {current_dir}")

# åˆ—å‡ºç›®å½•å†…å®¹
files = os.listdir(".")  # "." è¡¨ç¤ºå½“å‰ç›®å½•
print(f"æ–‡ä»¶åˆ—è¡¨: {files}")

# åˆ›å»ºç›®å½•
os.mkdir("patient_data")  # åˆ›å»ºå•å±‚ç›®å½•
os.makedirs("data/2025/01", exist_ok=True)  # åˆ›å»ºå¤šå±‚ç›®å½•,exist_oké¿å…å·²å­˜åœ¨æ—¶æŠ¥é”™

# åˆ é™¤ç›®å½•
os.rmdir("patient_data")  # åˆ é™¤ç©ºç›®å½•
# os.removedirs("data/2025/01")  # åˆ é™¤å¤šå±‚ç©ºç›®å½•

# åˆ é™¤æ–‡ä»¶
os.remove("temp.txt")

# é‡å‘½å
os.rename("old_name.txt", "new_name.txt")

# æ£€æŸ¥è·¯å¾„æ˜¯å¦å­˜åœ¨
if os.path.exists("patients.csv"):
    print("æ–‡ä»¶å­˜åœ¨")

# æ£€æŸ¥æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•
if os.path.isfile("data.csv"):
    print("æ˜¯æ–‡ä»¶")
if os.path.isdir("data"):
    print("æ˜¯ç›®å½•")
```

### 1.2 è·¯å¾„æ‹¼æ¥(è·¨å¹³å°)

```python
import os

# âŒ ä¸å¥½çš„æ–¹å¼(Windowså’ŒLinuxè·¯å¾„åˆ†éš”ç¬¦ä¸åŒ)
path = "data" + "/" + "patients.csv"  # åœ¨Windowsä¸Šå¯èƒ½æœ‰é—®é¢˜

# âœ… å¥½çš„æ–¹å¼(è‡ªåŠ¨å¤„ç†åˆ†éš”ç¬¦)
path = os.path.join("data", "patients.csv")
# Windows: data\patients.csv
# Linux/Mac: data/patients.csv

# ç»„åˆå¤šä¸ªè·¯å¾„
path = os.path.join("data", "2025", "01", "patients.csv")

# è·å–æ–‡ä»¶åå’Œç›®å½•
full_path = "/Users/doctor/data/patients.csv"
dir_name = os.path.dirname(full_path)  # /Users/doctor/data
file_name = os.path.basename(full_path)  # patients.csv
name, ext = os.path.splitext(file_name)  # ("patients", ".csv")

# è·å–ç»å¯¹è·¯å¾„
abs_path = os.path.abspath("patients.csv")
```

### 1.3 åŒ»å­¦åœºæ™¯ç¤ºä¾‹

```python
import os

def organize_dicom_files(source_dir):
    """æ•´ç†DICOMæ–‡ä»¶åˆ°æŒ‰æ—¥æœŸåˆ†ç±»çš„æ–‡ä»¶å¤¹"""

    # ç¡®ä¿æºç›®å½•å­˜åœ¨
    if not os.path.exists(source_dir):
        print(f"é”™è¯¯: ç›®å½•{source_dir}ä¸å­˜åœ¨")
        return

    # éå†æ–‡ä»¶
    for filename in os.listdir(source_dir):
        if filename.endswith(".dcm"):
            # ä»æ–‡ä»¶åæå–æ—¥æœŸ (å‡è®¾æ ¼å¼: YYYYMMDD_åºå·.dcm)
            date_str = filename[:8]  # 20250115
            year = date_str[:4]
            month = date_str[4:6]

            # åˆ›å»ºç›®æ ‡ç›®å½•
            target_dir = os.path.join(source_dir, year, month)
            os.makedirs(target_dir, exist_ok=True)

            # ç§»åŠ¨æ–‡ä»¶
            old_path = os.path.join(source_dir, filename)
            new_path = os.path.join(target_dir, filename)
            os.rename(old_path, new_path)
            print(f"å·²ç§»åŠ¨: {filename} -> {target_dir}")

# ä½¿ç”¨
organize_dicom_files("DICOM_files")
```

## 2. datetime - æ—¥æœŸæ—¶é—´å¤„ç†

### 2.1 åŸºæœ¬ç”¨æ³•

```python
from datetime import datetime, date, time, timedelta

# è·å–å½“å‰æ—¶é—´
now = datetime.now()
print(now)  # 2025-01-15 10:30:45.123456

today = date.today()
print(today)  # 2025-01-15

# åˆ›å»ºç‰¹å®šæ—¥æœŸ
birth_date = date(1980, 3, 15)
appointment = datetime(2025, 1, 20, 14, 30)  # 2025-01-20 14:30

# æ ¼å¼åŒ–è¾“å‡º
print(now.strftime("%Yå¹´%mæœˆ%dæ—¥"))  # 2025å¹´01æœˆ15æ—¥
print(now.strftime("%Y-%m-%d %H:%M:%S"))  # 2025-01-15 10:30:45
print(now.strftime("%Y/%m/%d"))  # 2025/01/15

# è§£æå­—ç¬¦ä¸²ä¸ºæ—¥æœŸ
date_str = "2025-01-15"
date_obj = datetime.strptime(date_str, "%Y-%m-%d")

# æ—¥æœŸè®¡ç®—
tomorrow = today + timedelta(days=1)
next_week = today + timedelta(weeks=1)
three_months_later = today + timedelta(days=90)

# æ—¥æœŸå·®
last_visit = date(2024, 12, 15)
days_since = (today - last_visit).days
print(f"è·ç¦»ä¸Šæ¬¡å°±è¯Š{days_since}å¤©")
```

### 2.2 åŒ»å­¦åœºæ™¯ç¤ºä¾‹

```python
from datetime import datetime, timedelta

class PatientFollowup:
    """æ‚£è€…éšè®¿ç®¡ç†"""

    def __init__(self, patient_name, last_visit_date):
        self.patient_name = patient_name
        self.last_visit_date = datetime.strptime(last_visit_date, "%Y-%m-%d")

    def next_followup_date(self, interval_days=90):
        """è®¡ç®—ä¸‹æ¬¡éšè®¿æ—¥æœŸ"""
        return self.last_visit_date + timedelta(days=interval_days)

    def days_until_followup(self):
        """è·ç¦»ä¸‹æ¬¡éšè®¿çš„å¤©æ•°"""
        next_date = self.next_followup_date()
        today = datetime.now()
        days = (next_date - today).days
        return days

    def is_overdue(self):
        """æ˜¯å¦é€¾æœŸ"""
        return self.days_until_followup() < 0

# ä½¿ç”¨
patient = PatientFollowup("å¼ ä¸‰", "2024-10-15")
print(f"ä¸‹æ¬¡éšè®¿æ—¥æœŸ: {patient.next_followup_date().strftime('%Y-%m-%d')}")
print(f"è·ç¦»éšè®¿: {patient.days_until_followup()}å¤©")

if patient.is_overdue():
    print("âš ï¸ å·²é€¾æœŸ,è¯·å°½å¿«éšè®¿!")
```

## 3. json - æ•°æ®äº¤æ¢æ ¼å¼

### 3.1 åŸºæœ¬ç”¨æ³•

```python
import json

# Pythonå¯¹è±¡ â†’ JSONå­—ç¬¦ä¸²
patient = {
    "name": "å¼ ä¸‰",
    "age": 45,
    "diagnosis": "é«˜è¡€å‹",
    "medications": ["é˜¿å¸åŒ¹æ—", "æ°¯æ²™å¦"]
}

json_str = json.dumps(patient, ensure_ascii=False, indent=2)
print(json_str)

# JSONå­—ç¬¦ä¸² â†’ Pythonå¯¹è±¡
json_data = '{"name": "æå››", "age": 52}'
patient_obj = json.loads(json_data)
print(patient_obj["name"])  # æå››

# ä¿å­˜åˆ°æ–‡ä»¶
with open("patient.json", "w", encoding="utf-8") as f:
    json.dump(patient, f, ensure_ascii=False, indent=2)

# ä»æ–‡ä»¶è¯»å–
with open("patient.json", "r", encoding="utf-8") as f:
    patient_data = json.load(f)
    print(patient_data)
```

### 3.2 åŒ»å­¦åœºæ™¯:é…ç½®æ–‡ä»¶

```python
import json

# ä¿å­˜ç³»ç»Ÿé…ç½®
config = {
    "hospital_name": "XXåŒ»é™¢",
    "department": "å¿ƒå†…ç§‘",
    "followup_intervals": {
        "è‰¯å¥½": 90,
        "æ¬ ä½³": 30,
        "æ–°è¯Šæ–­": 14
    },
    "alert_days": 7,
    "sms_template": "{name}æ‚¨å¥½,æ‚¨çš„éšè®¿å°†åœ¨{days}å¤©ååˆ°æœŸ"
}

with open("config.json", "w", encoding="utf-8") as f:
    json.dump(config, f, ensure_ascii=False, indent=2)

# è¯»å–é…ç½®
with open("config.json", "r", encoding="utf-8") as f:
    config = json.load(f)
    print(f"ç§‘å®¤: {config['department']}")
    print(f"éšè®¿é—´éš”: {config['followup_intervals']}")
```

## 4. random - éšæœºæ•°ç”Ÿæˆ

### 4.1 åŸºæœ¬ç”¨æ³•

```python
import random

# éšæœºæ•´æ•°
dice = random.randint(1, 6)  # 1åˆ°6ä¹‹é—´(åŒ…å«)

# éšæœºæµ®ç‚¹æ•°
temperature = random.uniform(36.0, 37.5)  # 36.0åˆ°37.5ä¹‹é—´

# ä»åˆ—è¡¨éšæœºé€‰æ‹©
medications = ["é˜¿å¸åŒ¹æ—", "æ°¯å¡æ ¼é›·", "æ›¿æ ¼ç‘æ´›"]
choice = random.choice(medications)

# éšæœºæ‰“ä¹±åˆ—è¡¨
patient_ids = ["P001", "P002", "P003", "P004"]
random.shuffle(patient_ids)  # åŸåœ°æ‰“ä¹±

# éšæœºæŠ½æ ·(ä¸æ”¾å›)
sample = random.sample(patient_ids, 2)  # éšæœºæŠ½å–2ä¸ª
```

### 4.2 åŒ»å­¦åœºæ™¯:éšæœºå¯¹ç…§è¯•éªŒ

```python
import random

def randomize_patients(patient_list, groups=2):
    """
    å°†æ‚£è€…éšæœºåˆ†ç»„(ç”¨äºä¸´åºŠè¯•éªŒ)

    å‚æ•°:
        patient_list: æ‚£è€…åˆ—è¡¨
        groups: åˆ†ç»„æ•°(é»˜è®¤2ç»„:å¯¹ç…§ç»„å’Œæ²»ç–—ç»„)

    è¿”å›:
        å­—å…¸,é”®ä¸ºç»„å,å€¼ä¸ºæ‚£è€…åˆ—è¡¨
    """
    # å¤åˆ¶åˆ—è¡¨é¿å…ä¿®æ”¹åŸåˆ—è¡¨
    patients = patient_list.copy()

    # éšæœºæ‰“ä¹±
    random.shuffle(patients)

    # åˆ†ç»„
    group_size = len(patients) // groups
    result = {}

    for i in range(groups):
        start = i * group_size
        if i == groups - 1:  # æœ€åä¸€ç»„åŒ…å«å‰©ä½™æ‰€æœ‰æ‚£è€…
            end = len(patients)
        else:
            end = (i + 1) * group_size

        group_name = f"Group {i+1}"
        result[group_name] = patients[start:end]

    return result

# ä½¿ç”¨
patients = [f"P{i:03d}" for i in range(1, 101)]  # 100ä¸ªæ‚£è€…
groups = randomize_patients(patients, groups=2)

print(f"å¯¹ç…§ç»„({len(groups['Group 1'])}äºº): {groups['Group 1'][:5]}...")
print(f"æ²»ç–—ç»„({len(groups['Group 2'])}äºº): {groups['Group 2'][:5]}...")
```

## 5. pathlib - ç°ä»£è·¯å¾„æ“ä½œ(æ¨è)

### 5.1 åŸºæœ¬ç”¨æ³•

```python
from pathlib import Path

# åˆ›å»ºè·¯å¾„å¯¹è±¡
path = Path("data/patients.csv")

# è·¯å¾„æ‹¼æ¥(ä½¿ç”¨/è¿ç®—ç¬¦)
data_dir = Path("data")
file_path = data_dir / "2025" / "01" / "patients.csv"
# è‡ªåŠ¨å¤„ç†è·¨å¹³å°åˆ†éš”ç¬¦

# æ£€æŸ¥è·¯å¾„
print(path.exists())  # æ–‡ä»¶æ˜¯å¦å­˜åœ¨
print(path.is_file())  # æ˜¯å¦ä¸ºæ–‡ä»¶
print(path.is_dir())  # æ˜¯å¦ä¸ºç›®å½•

# è·å–è·¯å¾„ä¿¡æ¯
print(path.name)  # patients.csv
print(path.stem)  # patients (ä¸å¸¦æ‰©å±•å)
print(path.suffix)  # .csv
print(path.parent)  # data

# åˆ›å»ºç›®å½•
Path("data/2025/01").mkdir(parents=True, exist_ok=True)

# éå†ç›®å½•
data_dir = Path("data")
for file in data_dir.glob("*.csv"):  # æ‰€æœ‰CSVæ–‡ä»¶
    print(file)

for file in data_dir.rglob("*.csv"):  # é€’å½’æŸ¥æ‰¾æ‰€æœ‰CSV
    print(file)

# è¯»å†™æ–‡ä»¶
path = Path("patient_record.txt")
path.write_text("æ‚£è€…å§“å: å¼ ä¸‰", encoding="utf-8")
content = path.read_text(encoding="utf-8")
```

### 5.2 åŒ»å­¦åœºæ™¯ç¤ºä¾‹

```python
from pathlib import Path
from datetime import datetime

def backup_patient_data(source_dir, backup_dir):
    """
    å¤‡ä»½æ‚£è€…æ•°æ®æ–‡ä»¶

    å‚æ•°:
        source_dir: æºç›®å½•
        backup_dir: å¤‡ä»½ç›®å½•
    """
    source = Path(source_dir)
    backup = Path(backup_dir)

    # åˆ›å»ºå¸¦æ—¶é—´æˆ³çš„å¤‡ä»½ç›®å½•
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    target_dir = backup / f"backup_{timestamp}"
    target_dir.mkdir(parents=True, exist_ok=True)

    # å¤åˆ¶æ‰€æœ‰CSVæ–‡ä»¶
    count = 0
    for csv_file in source.rglob("*.csv"):
        # ä¿æŒç›®å½•ç»“æ„
        relative_path = csv_file.relative_to(source)
        target_file = target_dir / relative_path

        # åˆ›å»ºç›®æ ‡ç›®å½•
        target_file.parent.mkdir(parents=True, exist_ok=True)

        # å¤åˆ¶æ–‡ä»¶
        target_file.write_bytes(csv_file.read_bytes())
        count += 1

    print(f"å¤‡ä»½å®Œæˆ!å…±å¤‡ä»½{count}ä¸ªæ–‡ä»¶åˆ° {target_dir}")

# ä½¿ç”¨
backup_patient_data("patient_data", "backups")
```

## 6. collections - é«˜çº§æ•°æ®ç»“æ„

### 6.1 Counter - è®¡æ•°å™¨

```python
from collections import Counter

# ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°
diagnoses = ["é«˜è¡€å‹", "ç³–å°¿ç—…", "é«˜è¡€å‹", "é«˜è¡€è„‚", "é«˜è¡€å‹", "ç³–å°¿ç—…"]
counter = Counter(diagnoses)

print(counter)  # Counter({'é«˜è¡€å‹': 3, 'ç³–å°¿ç—…': 2, 'é«˜è¡€è„‚': 1})
print(counter["é«˜è¡€å‹"])  # 3
print(counter.most_common(2))  # [('é«˜è¡€å‹', 3), ('ç³–å°¿ç—…', 2)]

# åŒ»å­¦åœºæ™¯:ç»Ÿè®¡è¯Šæ–­åˆ†å¸ƒ
from collections import Counter

patients = [
    {"name": "å¼ ä¸‰", "diagnosis": "é«˜è¡€å‹"},
    {"name": "æå››", "diagnosis": "ç³–å°¿ç—…"},
    {"name": "ç‹äº”", "diagnosis": "é«˜è¡€å‹"},
    {"name": "èµµå…­", "diagnosis": "é«˜è¡€è„‚"},
    {"name": "å­™ä¸ƒ", "diagnosis": "é«˜è¡€å‹"},
]

diagnoses = [p["diagnosis"] for p in patients]
diagnosis_count = Counter(diagnoses)

print("è¯Šæ–­ç»Ÿè®¡:")
for diagnosis, count in diagnosis_count.most_common():
    percentage = count / len(patients) * 100
    print(f"{diagnosis}: {count}äºº ({percentage:.1f}%)")
```

### 6.2 defaultdict - å¸¦é»˜è®¤å€¼çš„å­—å…¸

```python
from collections import defaultdict

# æ™®é€šå­—å…¸
patients = {}
patients["P001"] = "å¼ ä¸‰"
# patients["P002"]  # KeyError!

# defaultdictè‡ªåŠ¨åˆ›å»ºé»˜è®¤å€¼
from collections import defaultdict

# é»˜è®¤å€¼ä¸ºåˆ—è¡¨
patients_by_diagnosis = defaultdict(list)
patients_by_diagnosis["é«˜è¡€å‹"].append("å¼ ä¸‰")  # è‡ªåŠ¨åˆ›å»ºåˆ—è¡¨
patients_by_diagnosis["é«˜è¡€å‹"].append("æå››")
patients_by_diagnosis["ç³–å°¿ç—…"].append("ç‹äº”")

print(dict(patients_by_diagnosis))
# {'é«˜è¡€å‹': ['å¼ ä¸‰', 'æå››'], 'ç³–å°¿ç—…': ['ç‹äº”']}

# é»˜è®¤å€¼ä¸º0
age_count = defaultdict(int)
ages = [45, 52, 45, 38, 45, 68]
for age in ages:
    age_count[age] += 1  # è‡ªåŠ¨ä»0å¼€å§‹

print(dict(age_count))  # {45: 3, 52: 1, 38: 1, 68: 1}
```

## ç»¼åˆå®æˆ˜:æ‚£è€…æ•°æ®åˆ†æå·¥å…·

```python
import os
import json
from datetime import datetime, timedelta
from collections import Counter
from pathlib import Path

class PatientDataAnalyzer:
    """æ‚£è€…æ•°æ®åˆ†æå·¥å…·"""

    def __init__(self, data_file):
        self.data_file = Path(data_file)
        self.patients = self._load_data()

    def _load_data(self):
        """åŠ è½½æ‚£è€…æ•°æ®"""
        if not self.data_file.exists():
            return []

        with open(self.data_file, "r", encoding="utf-8") as f:
            return json.load(f)

    def add_patient(self, patient_info):
        """æ·»åŠ æ‚£è€…"""
        # ç”ŸæˆID
        patient_info["id"] = f"P{len(self.patients)+1:04d}"
        patient_info["created_at"] = datetime.now().strftime("%Y-%m-%d %H:%M:%S")

        self.patients.append(patient_info)
        self._save_data()

    def _save_data(self):
        """ä¿å­˜æ•°æ®"""
        self.data_file.parent.mkdir(parents=True, exist_ok=True)
        with open(self.data_file, "w", encoding="utf-8") as f:
            json.dump(self.patients, f, ensure_ascii=False, indent=2)

    def diagnosis_statistics(self):
        """è¯Šæ–­ç»Ÿè®¡"""
        diagnoses = [p["diagnosis"] for p in self.patients]
        counter = Counter(diagnoses)

        print("\nè¯Šæ–­ç»Ÿè®¡:")
        print("="*50)
        for diagnosis, count in counter.most_common():
            percentage = count / len(self.patients) * 100
            print(f"{diagnosis:<20} {count:>3}äºº ({percentage:>5.1f}%)")
        print("="*50)

    def age_distribution(self):
        """å¹´é¾„åˆ†å¸ƒ"""
        ages = [p["age"] for p in self.patients]

        print("\nå¹´é¾„ç»Ÿè®¡:")
        print("="*50)
        print(f"å¹³å‡å¹´é¾„: {sum(ages)/len(ages):.1f}å²")
        print(f"æœ€å°å¹´é¾„: {min(ages)}å²")
        print(f"æœ€å¤§å¹´é¾„: {max(ages)}å²")

        # å¹´é¾„æ®µåˆ†å¸ƒ
        age_groups = {"<40": 0, "40-60": 0, ">60": 0}
        for age in ages:
            if age < 40:
                age_groups["<40"] += 1
            elif age <= 60:
                age_groups["40-60"] += 1
            else:
                age_groups[">60"] += 1

        for group, count in age_groups.items():
            percentage = count / len(ages) * 100
            print(f"{group}å²: {count}äºº ({percentage:.1f}%)")
        print("="*50)

    def export_report(self, output_file):
        """å¯¼å‡ºåˆ†ææŠ¥å‘Š"""
        report_lines = []
        report_lines.append("="*60)
        report_lines.append("æ‚£è€…æ•°æ®åˆ†ææŠ¥å‘Š")
        report_lines.append(f"ç”Ÿæˆæ—¶é—´: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
        report_lines.append("="*60)
        report_lines.append(f"\næ€»æ‚£è€…æ•°: {len(self.patients)}äºº\n")

        # è¯Šæ–­ç»Ÿè®¡
        diagnoses = [p["diagnosis"] for p in self.patients]
        counter = Counter(diagnoses)
        report_lines.append("è¯Šæ–­åˆ†å¸ƒ:")
        for diagnosis, count in counter.most_common():
            percentage = count / len(self.patients) * 100
            report_lines.append(f"  {diagnosis}: {count}äºº ({percentage:.1f}%)")

        # ä¿å­˜æŠ¥å‘Š
        output_path = Path(output_file)
        output_path.write_text("\n".join(report_lines), encoding="utf-8")
        print(f"\næŠ¥å‘Šå·²ä¿å­˜åˆ°: {output_file}")

# ä½¿ç”¨ç¤ºä¾‹
analyzer = PatientDataAnalyzer("data/patients.json")

# æ·»åŠ æ‚£è€…
analyzer.add_patient({
    "name": "å¼ ä¸‰",
    "age": 45,
    "gender": "ç”·",
    "diagnosis": "é«˜è¡€å‹"
})

# ç»Ÿè®¡åˆ†æ
analyzer.diagnosis_statistics()
analyzer.age_distribution()

# å¯¼å‡ºæŠ¥å‘Š
analyzer.export_report("reports/patient_analysis.txt")
```

## ğŸ’¡ å…³é”®è¦ç‚¹

### å¸¸ç”¨æ ‡å‡†åº“æ€»ç»“

| åº“ | ç”¨é€” | æ ¸å¿ƒåŠŸèƒ½ |
|---|------|---------|
| **os** | æ–‡ä»¶ç³»ç»Ÿæ“ä½œ | ç›®å½•ã€æ–‡ä»¶æ“ä½œ |
| **pathlib** | ç°ä»£è·¯å¾„æ“ä½œ | é¢å‘å¯¹è±¡çš„è·¯å¾„ |
| **datetime** | æ—¥æœŸæ—¶é—´ | è®¡ç®—ã€æ ¼å¼åŒ– |
| **json** | JSONå¤„ç† | æ•°æ®åºåˆ—åŒ– |
| **random** | éšæœºæ•° | éšæœºåŒ–ã€æŠ½æ · |
| **collections** | é«˜çº§æ•°æ®ç»“æ„ | Counter, defaultdict |

### ä½•æ—¶ä½¿ç”¨æ ‡å‡†åº“?

- æ–‡ä»¶æ“ä½œ â†’ os/pathlib
- æ—¥æœŸè®¡ç®— â†’ datetime
- é…ç½®æ–‡ä»¶ â†’ json
- ç»Ÿè®¡è®¡æ•° â†’ collections.Counter
- éšæœºåˆ†ç»„ â†’ random

## ä¸‹ä¸€æ­¥

æŒæ¡äº†æ ‡å‡†åº“å,ä¸‹ä¸€èŠ‚[å®æˆ˜:æ‰¹é‡é‡å‘½åDICOMæ–‡ä»¶](3.6-practice-rename.md),æˆ‘ä»¬å°†å®Œæˆç¬¬ä¸€ä¸ªå®ç”¨å·¥å…·!

---

## ğŸ”¨ ç»ƒä¹ ä»»åŠ¡

```python
# ä»»åŠ¡1: æ–‡ä»¶æ•´ç†å·¥å…·
# å°†æ¡Œé¢çš„æ–‡ä»¶æŒ‰æ‰©å±•ååˆ†ç±»åˆ°ä¸åŒæ–‡ä»¶å¤¹

# ä»»åŠ¡2: éšè®¿æé†’ç³»ç»Ÿ
# è¯»å–æ‚£è€…æ•°æ®,è®¡ç®—ä¸‹æ¬¡éšè®¿æ—¥æœŸ,ç”Ÿæˆæé†’æ¸…å•

# ä»»åŠ¡3: è¯Šæ–­ç»Ÿè®¡æŠ¥å‘Š
# è¯»å–ç—…å†JSONæ–‡ä»¶,ç»Ÿè®¡å„ç§è¯Šæ–­çš„åˆ†å¸ƒ,ç”ŸæˆæŠ¥å‘Š
```
