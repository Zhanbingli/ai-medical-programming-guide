# 5.8 è°ƒè¯•æŠ€å·§:è¯»æ‡‚æŠ¥é”™ä¿¡æ¯

## æŠ¥é”™â‰ å¤±è´¥,æŠ¥é”™æ˜¯æœ€å¥½çš„è€å¸ˆ

### å¿ƒæ€è½¬å˜

```
âŒ åˆå­¦è€…å¿ƒæ€:
"åˆæŠ¥é”™äº†!ğŸ˜­ æˆ‘ä¸é€‚åˆç¼–ç¨‹..."

âœ… æ­£ç¡®å¿ƒæ€:
"æŠ¥é”™äº†!å¤ªå¥½äº†!é”™è¯¯ä¿¡æ¯ä¼šå‘Šè¯‰æˆ‘å“ªé‡Œå‡ºé—®é¢˜äº†!"
```

### åŒ»å­¦ç±»æ¯”

```
æŠ¥é”™ä¿¡æ¯ = æ£€éªŒæŠ¥å‘Šå•
- å‘Šè¯‰ä½ å“ªé‡Œæœ‰é—®é¢˜(å®šä½ç—…ç¶)
- è¯´æ˜é—®é¢˜çš„ç±»å‹(ç–¾ç—…è¯Šæ–­)
- æœ‰æ—¶è¿˜ç»™å‡ºå»ºè®®(æ²»ç–—æ–¹æ¡ˆ)
```

**é‡è¦**: 90%çš„ç¼–ç¨‹æ—¶é—´éƒ½åœ¨è°ƒè¯•ã€‚å³ä½¿æ˜¯èµ„æ·±ç¨‹åºå‘˜,æ¯å¤©ä¹Ÿè¦é¢å¯¹å¤§é‡é”™è¯¯!

## Pythoné”™è¯¯ç±»å‹

### 1. è¯­æ³•é”™è¯¯(SyntaxError)

**æœ€å¸¸è§çš„æ–°æ‰‹é”™è¯¯** - ä»£ç å†™æ³•ä¸ç¬¦åˆPythonè¯­æ³•è§„åˆ™

#### ç¤ºä¾‹1: å¿˜è®°å†’å·

```python
# âŒ é”™è¯¯ä»£ç 
if age > 60
    print("è€å¹´æ‚£è€…")

# æŠ¥é”™ä¿¡æ¯:
  File "test.py", line 1
    if age > 60
               ^
SyntaxError: invalid syntax
```

**è§£è¯»**:
- `File "test.py", line 1`: é”™è¯¯åœ¨test.pyçš„ç¬¬1è¡Œ
- `^`: ç®­å¤´æŒ‡å‘é—®é¢˜ä½ç½®
- `SyntaxError: invalid syntax`: è¯­æ³•é”™è¯¯

**ä¿®å¤**:
```python
# âœ… æ­£ç¡®ä»£ç 
if age > 60:  # åŠ ä¸Šå†’å·
    print("è€å¹´æ‚£è€…")
```

#### ç¤ºä¾‹2: å¼•å·ä¸åŒ¹é…

```python
# âŒ é”™è¯¯ä»£ç 
name = "å¼ ä¸‰'

# æŠ¥é”™:
  File "test.py", line 1
    name = "å¼ ä¸‰'
                ^
SyntaxError: EOL while scanning string literal
```

**EOL = End Of Line(è¡Œå°¾)**

**ä¿®å¤**:
```python
# âœ… æ­£ç¡®ä»£ç 
name = "å¼ ä¸‰"  # å¼•å·è¦é…å¯¹
```

#### ç¤ºä¾‹3: ç¼©è¿›é”™è¯¯

```python
# âŒ é”™è¯¯ä»£ç 
def calculate_bmi(weight, height):
return weight / height ** 2  # æ²¡æœ‰ç¼©è¿›

# æŠ¥é”™:
  File "test.py", line 2
    return weight / height ** 2
    ^
IndentationError: expected an indented block
```

**ä¿®å¤**:
```python
# âœ… æ­£ç¡®ä»£ç 
def calculate_bmi(weight, height):
    return weight / height ** 2  # ç¼©è¿›4ä¸ªç©ºæ ¼
```

### 2. åç§°é”™è¯¯(NameError)

**å˜é‡æˆ–å‡½æ•°åä¸å­˜åœ¨**

```python
# âŒ é”™è¯¯ä»£ç 
print(patient_name)

# æŠ¥é”™:
NameError: name 'patient_name' is not defined
```

**å¸¸è§åŸå› **:
1. å˜é‡åæ‹¼å†™é”™è¯¯
2. å˜é‡æœªå®šä¹‰å°±ä½¿ç”¨
3. å˜é‡åœ¨å…¶ä»–ä½œç”¨åŸŸ

**ä¿®å¤**:
```python
# âœ… æ­£ç¡®ä»£ç 
patient_name = "å¼ ä¸‰"  # å…ˆå®šä¹‰
print(patient_name)    # å†ä½¿ç”¨
```

### 3. ç±»å‹é”™è¯¯(TypeError)

**å¯¹ä¸å…¼å®¹çš„æ•°æ®ç±»å‹è¿›è¡Œæ“ä½œ**

#### ç¤ºä¾‹1: å­—ç¬¦ä¸²å’Œæ•°å­—ç›¸åŠ 

```python
# âŒ é”™è¯¯ä»£ç 
age = "45"
result = age + 10

# æŠ¥é”™:
TypeError: can only concatenate str (not "int") to str
```

**è§£è¯»**: ä¸èƒ½æŠŠå­—ç¬¦ä¸²(str)å’Œæ•´æ•°(int)ç›¸åŠ 

**ä¿®å¤**:
```python
# âœ… æ–¹æ³•1: è½¬æ¢ä¸ºæ•°å­—
age = int("45")
result = age + 10  # 55

# âœ… æ–¹æ³•2: è½¬æ¢ä¸ºå­—ç¬¦ä¸²
age = "45"
result = age + str(10)  # "4510"
```

#### ç¤ºä¾‹2: è°ƒç”¨ä¸å¯è°ƒç”¨çš„å¯¹è±¡

```python
# âŒ é”™è¯¯ä»£ç 
data = [1, 2, 3]
result = data(0)  # åˆ—è¡¨ä¸æ˜¯å‡½æ•°,ä¸èƒ½ç”¨æ‹¬å·è°ƒç”¨

# æŠ¥é”™:
TypeError: 'list' object is not callable
```

**ä¿®å¤**:
```python
# âœ… æ­£ç¡®ä»£ç 
data = [1, 2, 3]
result = data[0]  # ç”¨æ–¹æ‹¬å·ç´¢å¼•,ä¸æ˜¯æ‹¬å·
```

### 4. ç´¢å¼•é”™è¯¯(IndexError)

**è®¿é—®ä¸å­˜åœ¨çš„ç´¢å¼•ä½ç½®**

```python
# âŒ é”™è¯¯ä»£ç 
patients = ["å¼ ä¸‰", "æå››", "ç‹äº”"]
print(patients[3])  # ç´¢å¼•0,1,2æœ‰æ•ˆ,3è¶…å‡ºèŒƒå›´

# æŠ¥é”™:
IndexError: list index out of range
```

**ä¿®å¤**:
```python
# âœ… æ­£ç¡®ä»£ç 
patients = ["å¼ ä¸‰", "æå››", "ç‹äº”"]
print(patients[2])  # ç‹äº”

# æˆ–ä½¿ç”¨å®‰å…¨çš„æ–¹å¼
if len(patients) > 3:
    print(patients[3])
else:
    print("ç´¢å¼•è¶…å‡ºèŒƒå›´")
```

### 5. é”®é”™è¯¯(KeyError)

**è®¿é—®å­—å…¸ä¸­ä¸å­˜åœ¨çš„é”®**

```python
# âŒ é”™è¯¯ä»£ç 
patient = {"name": "å¼ ä¸‰", "age": 45}
print(patient["gender"])  # genderé”®ä¸å­˜åœ¨

# æŠ¥é”™:
KeyError: 'gender'
```

**ä¿®å¤**:
```python
# âœ… æ–¹æ³•1: ä½¿ç”¨getæ–¹æ³•(æ¨è)
print(patient.get("gender", "æœªçŸ¥"))  # è¿”å›"æœªçŸ¥"è€Œä¸æŠ¥é”™

# âœ… æ–¹æ³•2: å…ˆæ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨
if "gender" in patient:
    print(patient["gender"])
else:
    print("æœªè®°å½•æ€§åˆ«")
```

### 6. å±æ€§é”™è¯¯(AttributeError)

**å¯¹è±¡æ²¡æœ‰è¯¥å±æ€§æˆ–æ–¹æ³•**

```python
# âŒ é”™è¯¯ä»£ç 
numbers = [1, 2, 3]
numbers.append(4)   # âœ“ åˆ—è¡¨æœ‰appendæ–¹æ³•
numbers.add(5)      # âœ— åˆ—è¡¨æ²¡æœ‰addæ–¹æ³•

# æŠ¥é”™:
AttributeError: 'list' object has no attribute 'add'
```

**ä¿®å¤**:
```python
# âœ… ä½¿ç”¨æ­£ç¡®çš„æ–¹æ³•
numbers.append(5)  # appendæ‰æ˜¯åˆ—è¡¨çš„æ–¹æ³•

# æˆ–æŸ¥çœ‹å¯¹è±¡æœ‰å“ªäº›æ–¹æ³•
dir(numbers)  # åˆ—å‡ºæ‰€æœ‰å¯ç”¨æ–¹æ³•
```

### 7. å¯¼å…¥é”™è¯¯(ImportError/ModuleNotFoundError)

**æ¨¡å—æˆ–åŒ…æœªå®‰è£…æˆ–è·¯å¾„é”™è¯¯**

```python
# âŒ é”™è¯¯ä»£ç 
import pandas

# æŠ¥é”™:
ModuleNotFoundError: No module named 'pandas'
```

**åŸå› **: pandasæœªå®‰è£…

**ä¿®å¤**:
```bash
# åœ¨ç»ˆç«¯å®‰è£…
pip install pandas
```

**å…¶ä»–å¯èƒ½åŸå› **:
1. æ‹¼å†™é”™è¯¯: `import panda`(å°‘äº†s)
2. ç¯å¢ƒé”™è¯¯: åœ¨é”™è¯¯çš„è™šæ‹Ÿç¯å¢ƒè¿è¡Œ
3. å®‰è£…ä½ç½®é”™è¯¯: ç”¨pipè£…äº†,ä½†Pythonç”¨çš„æ˜¯å¦ä¸€ä¸ªç¯å¢ƒ

**æ£€æŸ¥ç¯å¢ƒ**:
```python
import sys
print(sys.executable)  # æŸ¥çœ‹æ­£åœ¨ä½¿ç”¨çš„Pythonè·¯å¾„
```

### 8. å€¼é”™è¯¯(ValueError)

**å€¼çš„ç±»å‹æ­£ç¡®,ä½†å€¼æœ¬èº«ä¸åˆé€‚**

```python
# âŒ é”™è¯¯ä»£ç 
age = int("abc")  # "abc"ä¸èƒ½è½¬æ¢ä¸ºæ•°å­—

# æŠ¥é”™:
ValueError: invalid literal for int() with base 10: 'abc'
```

**ä¿®å¤**:
```python
# âœ… æ·»åŠ å¼‚å¸¸å¤„ç†
age_str = "abc"
try:
    age = int(age_str)
except ValueError:
    print(f"'{age_str}' ä¸æ˜¯æœ‰æ•ˆçš„æ•°å­—")
    age = 0  # è®¾ç½®é»˜è®¤å€¼
```

### 9. æ–‡ä»¶æœªæ‰¾åˆ°é”™è¯¯(FileNotFoundError)

```python
# âŒ é”™è¯¯ä»£ç 
df = pd.read_csv("patient_data.csv")

# æŠ¥é”™:
FileNotFoundError: [Errno 2] No such file or directory: 'patient_data.csv'
```

**åŸå› **:
1. æ–‡ä»¶ä¸å­˜åœ¨
2. æ–‡ä»¶åæ‹¼å†™é”™è¯¯
3. è·¯å¾„ä¸å¯¹(æ–‡ä»¶åœ¨å…¶ä»–æ–‡ä»¶å¤¹)

**ä¿®å¤**:
```python
# âœ… æ–¹æ³•1: ä½¿ç”¨ç»å¯¹è·¯å¾„
df = pd.read_csv("/Users/username/data/patient_data.csv")

# âœ… æ–¹æ³•2: æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
import os
filepath = "patient_data.csv"
if os.path.exists(filepath):
    df = pd.read_csv(filepath)
else:
    print(f"æ–‡ä»¶ä¸å­˜åœ¨: {filepath}")
    print(f"å½“å‰ç›®å½•: {os.getcwd()}")
    print(f"å½“å‰ç›®å½•æ–‡ä»¶: {os.listdir('.')}")
```

## è¯»æ‡‚é”™è¯¯ä¿¡æ¯çš„æŠ€å·§

### é”™è¯¯ä¿¡æ¯ç»“æ„

```python
Traceback (most recent call last):        â† è¿½è¸ªä¿¡æ¯(ä»ä¸‹å¾€ä¸Šçœ‹!)
  File "analysis.py", line 15, in <module>  â† å‡ºé”™çš„æ–‡ä»¶å’Œè¡Œå·
    result = process_data(df)             â† å‡ºé”™çš„ä»£ç 
  File "analysis.py", line 8, in process_data
    mean_age = df['age'].mean()
KeyError: 'age'                           â† â­ é”™è¯¯ç±»å‹å’Œæè¿°(æœ€é‡è¦)
```

### é˜…è¯»é¡ºåº

**ä»ä¸‹å¾€ä¸Šçœ‹!**

1. **æœ€åä¸€è¡Œ**(æœ€é‡è¦): é”™è¯¯ç±»å‹å’Œæè¿°
   - `KeyError: 'age'` â†’ å­—å…¸æ²¡æœ‰'age'è¿™ä¸ªé”®

2. **å€’æ•°ç¬¬äºŒä¸‰è¡Œ**: å…·ä½“å“ªè¡Œä»£ç å‡ºé”™
   - `line 8, in process_data` â†’ process_dataå‡½æ•°ç¬¬8è¡Œ
   - `mean_age = df['age'].mean()` â†’ è¿™è¡Œä»£ç æœ‰é—®é¢˜

3. **å¾€ä¸Šçœ‹**(å¦‚æœéœ€è¦): å‡½æ•°è°ƒç”¨é“¾
   - å¸®åŠ©ç†è§£é”™è¯¯æ˜¯å¦‚ä½•å‘ç”Ÿçš„

### å®ä¾‹è§£è¯»

```python
Traceback (most recent call last):
  File "medical_analysis.py", line 25, in <module>
    analyze_patients(data)
  File "medical_analysis.py", line 15, in analyze_patients
    avg_bp = calculate_average_bp(patient_list)
  File "medical_analysis.py", line 8, in calculate_average_bp
    total = sum([p['blood_pressure'] for p in patients])
KeyError: 'blood_pressure'
```

**è§£è¯»**:
1. é”™è¯¯ç±»å‹: `KeyError` - å­—å…¸é”®ä¸å­˜åœ¨
2. é—®é¢˜é”®: `'blood_pressure'`
3. å‡ºé”™ä½ç½®: `medical_analysis.py` ç¬¬8è¡Œ
4. å‡ºé”™ä»£ç : `p['blood_pressure']`
5. åŸå› : æŸä¸ªæ‚£è€…å­—å…¸ä¸­æ²¡æœ‰'blood_pressure'é”®

**è°ƒæŸ¥æ–¹å‘**:
- æ£€æŸ¥patientsåˆ—è¡¨ä¸­çš„æ•°æ®
- å¯èƒ½é”®åæ‹¼å†™é”™è¯¯(å¦‚'bp'è€Œé'blood_pressure')
- å¯èƒ½æŸäº›æ‚£è€…æ•°æ®ä¸å®Œæ•´

## è°ƒè¯•æ–¹æ³•

### 1. printè°ƒè¯•(æœ€ç®€å•)

```python
def calculate_bmi(weight, height):
    print(f"[DEBUG] weight={weight}, height={height}")  # ğŸ‘ˆ æ’å…¥è°ƒè¯•è¾“å‡º
    bmi = weight / (height ** 2)
    print(f"[DEBUG] bmi={bmi}")  # ğŸ‘ˆ æŸ¥çœ‹ä¸­é—´ç»“æœ
    return bmi

result = calculate_bmi(70, 1.75)
print(result)

# è¾“å‡º:
# [DEBUG] weight=70, height=1.75
# [DEBUG] bmi=22.857142857142858
# 22.857142857142858
```

**ä¼˜ç‚¹**: ç®€å•ç›´æ¥,å¿«é€Ÿå®šä½é—®é¢˜
**ç¼ºç‚¹**: ä»£ç é‡Œåˆ°å¤„æ˜¯print,è°ƒè¯•å®Œè¦åˆ é™¤

**æ”¹è¿›**: ä½¿ç”¨loggingæ¨¡å—
```python
import logging
logging.basicConfig(level=logging.DEBUG)

def calculate_bmi(weight, height):
    logging.debug(f"weight={weight}, height={height}")
    bmi = weight / (height ** 2)
    logging.debug(f"bmi={bmi}")
    return bmi
```

### 2. æ–­ç‚¹è°ƒè¯•(VSCode)

**æ­¥éª¤**:
1. åœ¨VSCodeä¸­,ç‚¹å‡»è¡Œå·å·¦ä¾§è®¾ç½®æ–­ç‚¹(çº¢ç‚¹)
2. æŒ‰F5å¼€å§‹è°ƒè¯•
3. ç¨‹åºä¼šåœ¨æ–­ç‚¹å¤„æš‚åœ
4. æŸ¥çœ‹å˜é‡å€¼,å•æ­¥æ‰§è¡Œ

**è°ƒè¯•æ§åˆ¶**:
- **F10** (Step Over): å•æ­¥æ‰§è¡Œ,è·³è¿‡å‡½æ•°å†…éƒ¨
- **F11** (Step Into): è¿›å…¥å‡½æ•°å†…éƒ¨
- **Shift+F11** (Step Out): è·³å‡ºå½“å‰å‡½æ•°
- **F5** (Continue): ç»§ç»­æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹

**æŸ¥çœ‹å˜é‡**:
- é¼ æ ‡æ‚¬åœåœ¨å˜é‡ä¸ŠæŸ¥çœ‹å€¼
- å·¦ä¾§"å˜é‡"é¢æ¿æŸ¥çœ‹æ‰€æœ‰å˜é‡
- "è°ƒè¯•æ§åˆ¶å°"è¾“å…¥è¡¨è¾¾å¼æŸ¥çœ‹ç»“æœ

### 3. å¼‚å¸¸å¤„ç†(try-except)

**åœºæ™¯**: é¢„æœŸå¯èƒ½å‡ºé”™çš„åœ°æ–¹,ä¼˜é›…åœ°å¤„ç†é”™è¯¯

```python
# âŒ ä¸å¤„ç†é”™è¯¯ - ç¨‹åºå´©æºƒ
age = int(input("è¯·è¾“å…¥å¹´é¾„: "))  # ç”¨æˆ·è¾“å…¥"abc"ä¼šå´©æºƒ

# âœ… å¤„ç†é”™è¯¯ - ç¨‹åºç»§ç»­è¿è¡Œ
try:
    age = int(input("è¯·è¾“å…¥å¹´é¾„: "))
except ValueError:
    print("è¾“å…¥æ— æ•ˆ,è¯·è¾“å…¥æ•°å­—!")
    age = 0  # è®¾ç½®é»˜è®¤å€¼
```

**å®Œæ•´å¼‚å¸¸å¤„ç†**:
```python
try:
    df = pd.read_csv("data.csv")
    result = df['age'].mean()
except FileNotFoundError:
    print("âŒ æ–‡ä»¶ä¸å­˜åœ¨")
except KeyError:
    print("âŒ æ•°æ®ä¸­æ²¡æœ‰ageåˆ—")
except Exception as e:
    print(f"âŒ å…¶ä»–é”™è¯¯: {e}")
else:
    print(f"âœ… æˆåŠŸ!å¹³å‡å¹´é¾„: {result}")
finally:
    print("æ— è®ºæˆåŠŸå¤±è´¥,éƒ½ä¼šæ‰§è¡Œè¿™é‡Œ")
```

### 4. äºŒåˆ†è°ƒè¯•æ³•

**åœºæ™¯**: ä»£ç å¾ˆé•¿,ä¸çŸ¥é“å“ªé‡Œå‡ºé”™

**æ–¹æ³•**:
1. æ³¨é‡Šæ‰ååŠéƒ¨åˆ†ä»£ç ,è¿è¡Œ
2. å¦‚æœè¿˜æŠ¥é”™,é—®é¢˜åœ¨å‰åŠéƒ¨åˆ†;å¦åˆ™åœ¨ååŠéƒ¨åˆ†
3. ç»§ç»­äºŒåˆ†ç¼©å°èŒƒå›´

```python
# 100è¡Œä»£ç ,ä¸çŸ¥é“å“ªé‡Œé”™äº†

# æ³¨é‡Šæ‰50-100è¡Œ
# ... å‰50è¡Œ ...
# ... å50è¡Œè¢«æ³¨é‡Š ...

# è¿è¡Œ â†’ æ²¡æŠ¥é”™ â†’ é—®é¢˜åœ¨ååŠéƒ¨åˆ†
# å–æ¶ˆæ³¨é‡Š,å†æ³¨é‡Š75-100è¡Œ
# ç»§ç»­äºŒåˆ†...
```

### 5. æ©¡çš®é¸­è°ƒè¯•æ³•(çœŸçš„æœ‰ç”¨!)

**æ–¹æ³•**: å‘æ©¡çš®é¸­(æˆ–ä»»ä½•ç‰©ä½“)é€è¡Œè§£é‡Šä»£ç 

```
"è¿™é‡Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªåˆ—è¡¨..."
"ç„¶åæˆ‘éå†åˆ—è¡¨..."
"ç­‰ç­‰!æˆ‘éå†çš„æ—¶å€™æ²¡æ£€æŸ¥åˆ—è¡¨æ˜¯å¦ä¸ºç©º!"
â† å•Šå“ˆ!æ‰¾åˆ°é—®é¢˜äº†!
```

**åŸç†**: å¼ºè¿«è‡ªå·±ç†æ¸…æ€è·¯,å¾€å¾€è‡ªå·±å°±èƒ½å‘ç°é—®é¢˜ã€‚

## AIè¾…åŠ©è°ƒè¯•

### 1. å‘ChatGPTæ±‚åŠ©

**å¥½çš„æé—®**:
```
æˆ‘åœ¨è¿è¡Œè¿™æ®µä»£ç æ—¶é‡åˆ°é”™è¯¯:

[ç²˜è´´ä»£ç ]

æŠ¥é”™ä¿¡æ¯:
[å®Œæ•´çš„é”™è¯¯ä¿¡æ¯]

æˆ‘æƒ³å®ç°çš„åŠŸèƒ½æ˜¯:
[æè¿°ç›®æ ‡]

å¯èƒ½æ˜¯ä»€ä¹ˆé—®é¢˜?
```

**ä¸å¥½çš„æé—®**:
```
"ä»£ç æŠ¥é”™äº†,å¸®æˆ‘çœ‹çœ‹"  â† ä¿¡æ¯å¤ªå°‘
```

### 2. Googleæœç´¢æŠ€å·§

**æœç´¢é”™è¯¯ä¿¡æ¯**(å»æ‰ä¸ªäººåŒ–å†…å®¹):
```
âŒ ä¸å¥½çš„æœç´¢:
/Users/zhangsan/my_project/analysis.py KeyError: 'age'

âœ… å¥½çš„æœç´¢:
python pandas KeyError age
python "KeyError" dataframe column
```

**å¸¸ç”¨ç½‘ç«™**:
- Stack Overflow(è‹±æ–‡,æœ€æƒå¨)
- CSDN(ä¸­æ–‡,ä½†è´¨é‡å‚å·®ä¸é½)
- GitHub Issues(çœ‹å¼€æºé¡¹ç›®çš„issue)

### 3. é˜…è¯»å®˜æ–¹æ–‡æ¡£

**æŸ¥çœ‹å‡½æ•°ç”¨æ³•**:
```python
# åœ¨Pythonä¸­æŸ¥çœ‹æ–‡æ¡£
help(pd.read_csv)

# æˆ–ä½¿ç”¨?é­”æ³•å‘½ä»¤(Jupyter)
pd.read_csv?
```

**åœ¨çº¿æ–‡æ¡£**:
- Pandas: https://pandas.pydata.org/docs/
- NumPy: https://numpy.org/doc/
- Matplotlib: https://matplotlib.org/stable/contents.html

## å®æˆ˜æ¡ˆä¾‹

### æ¡ˆä¾‹1: æ•°æ®è¯»å–æŠ¥é”™

**é”™è¯¯ä»£ç **:
```python
import pandas as pd
df = pd.read_csv("patients.csv")
print(df['Age'].mean())
```

**æŠ¥é”™**:
```
KeyError: 'Age'
```

**è°ƒè¯•è¿‡ç¨‹**:
```python
# 1. æ£€æŸ¥æ•°æ®
print(df.head())
# å‘ç°åˆ—åæ˜¯'age'è€Œé'Age'(å¤§å°å†™!)

# 2. æŸ¥çœ‹æ‰€æœ‰åˆ—å
print(df.columns)
# Index(['patient_id', 'age', 'gender', 'bp'], dtype='object')

# 3. ä¿®å¤
print(df['age'].mean())  # âœ… ä½¿ç”¨æ­£ç¡®çš„åˆ—å
```

### æ¡ˆä¾‹2: å¾ªç¯ä¸­çš„é”™è¯¯

**é”™è¯¯ä»£ç **:
```python
patients = [
    {"name": "å¼ ä¸‰", "age": 45},
    {"name": "æå››", "age": 52},
    {"name": "ç‹äº”"}  # ç¼ºå°‘ageé”®!
]

for patient in patients:
    print(f"{patient['name']}: {patient['age']}å²")
```

**æŠ¥é”™**:
```
KeyError: 'age'
```

**è°ƒè¯•è¿‡ç¨‹**:
```python
# 1. æ·»åŠ è°ƒè¯•è¾“å‡º
for i, patient in enumerate(patients):
    print(f"[DEBUG] å¤„ç†ç¬¬{i}ä¸ªæ‚£è€…: {patient}")
    print(f"{patient['name']}: {patient['age']}å²")

# è¾“å‡º:
# [DEBUG] å¤„ç†ç¬¬0ä¸ªæ‚£è€…: {'name': 'å¼ ä¸‰', 'age': 45}
# å¼ ä¸‰: 45å²
# [DEBUG] å¤„ç†ç¬¬1ä¸ªæ‚£è€…: {'name': 'æå››', 'age': 52}
# æå››: 52å²
# [DEBUG] å¤„ç†ç¬¬2ä¸ªæ‚£è€…: {'name': 'ç‹äº”'}  â† è¿™é‡Œæ²¡æœ‰age!
# KeyError: 'age'

# 2. ä¿®å¤:æ·»åŠ é»˜è®¤å€¼
for patient in patients:
    age = patient.get('age', 'æœªçŸ¥')  # ä½¿ç”¨get,ç¼ºå¤±æ—¶è¿”å›'æœªçŸ¥'
    print(f"{patient['name']}: {age}å²")
```

### æ¡ˆä¾‹3: æ–‡ä»¶è·¯å¾„é—®é¢˜

**é”™è¯¯ä»£ç **:
```python
df = pd.read_csv("data/patients.csv")
```

**æŠ¥é”™**:
```
FileNotFoundError: [Errno 2] No such file or directory: 'data/patients.csv'
```

**è°ƒè¯•è¿‡ç¨‹**:
```python
import os

# 1. æŸ¥çœ‹å½“å‰ç›®å½•
print("å½“å‰ç›®å½•:", os.getcwd())

# 2. åˆ—å‡ºæ–‡ä»¶
print("å½“å‰ç›®å½•æ–‡ä»¶:", os.listdir('.'))

# 3. æ£€æŸ¥dataç›®å½•
if os.path.exists('data'):
    print("dataç›®å½•æ–‡ä»¶:", os.listdir('data'))
else:
    print("dataç›®å½•ä¸å­˜åœ¨!")

# 4. æŸ¥æ‰¾æ–‡ä»¶
for root, dirs, files in os.walk('.'):
    if 'patients.csv' in files:
        print(f"æ‰¾åˆ°æ–‡ä»¶: {os.path.join(root, 'patients.csv')}")

# 5. ä½¿ç”¨ç»å¯¹è·¯å¾„(æœ€ä¿é™©)
df = pd.read_csv("/Users/username/project/data/patients.csv")
```

## é¢„é˜²é”™è¯¯çš„æœ€ä½³å®è·µ

### 1. ä½¿ç”¨ç±»å‹æç¤º(Python 3.5+)

```python
def calculate_bmi(weight: float, height: float) -> float:
    """è®¡ç®—BMI

    Args:
        weight: ä½“é‡(kg)
        height: èº«é«˜(m)

    Returns:
        BMIå€¼
    """
    return weight / (height ** 2)

# VSCodeä¼šåœ¨ä½ ä¼ é”™ç±»å‹æ—¶è­¦å‘Š
result = calculate_bmi("70", 1.75)  # VSCodeæç¤º:å‚æ•°åº”è¯¥æ˜¯float,ä¸æ˜¯str
```

### 2. è¾“å…¥éªŒè¯

```python
def calculate_bmi(weight, height):
    # éªŒè¯è¾“å…¥
    if not isinstance(weight, (int, float)):
        raise TypeError("ä½“é‡å¿…é¡»æ˜¯æ•°å­—")
    if not isinstance(height, (int, float)):
        raise TypeError("èº«é«˜å¿…é¡»æ˜¯æ•°å­—")
    if weight <= 0 or height <= 0:
        raise ValueError("ä½“é‡å’Œèº«é«˜å¿…é¡»å¤§äº0")

    return weight / (height ** 2)
```

### 3. æ–­è¨€(Assert)

```python
def process_patient_data(df):
    # ç¡®ä¿æ•°æ®æ¡†ä¸ä¸ºç©º
    assert not df.empty, "æ•°æ®æ¡†ä¸ºç©º"

    # ç¡®ä¿å¿…éœ€åˆ—å­˜åœ¨
    required_columns = ['patient_id', 'age', 'gender']
    for col in required_columns:
        assert col in df.columns, f"ç¼ºå°‘å¿…éœ€åˆ—: {col}"

    # ç¡®ä¿æ²¡æœ‰ç¼ºå¤±å€¼
    assert df['age'].notna().all(), "ageåˆ—å­˜åœ¨ç¼ºå¤±å€¼"

    # ç»§ç»­å¤„ç†...
```

### 4. ä½¿ç”¨Linter(ä»£ç æ£€æŸ¥å·¥å…·)

**åœ¨VSCodeä¸­å®‰è£…**:
- Pylint
- Flake8

**è‡ªåŠ¨æ£€æŸ¥**:
- æœªä½¿ç”¨çš„å˜é‡
- æœªå®šä¹‰çš„å˜é‡
- ä»£ç é£æ ¼é—®é¢˜
- æ½œåœ¨çš„bug

### 5. å†™æµ‹è¯•(é«˜çº§)

```python
# test_bmi.py
def test_calculate_bmi():
    # æ­£å¸¸æƒ…å†µ
    assert calculate_bmi(70, 1.75) == 22.857142857142858

    # è¾¹ç•Œæƒ…å†µ
    assert calculate_bmi(50, 1.50) == 22.22222222222222

    # å¼‚å¸¸æƒ…å†µ
    try:
        calculate_bmi(-70, 1.75)
        assert False, "åº”è¯¥æŠ›å‡ºå¼‚å¸¸"
    except ValueError:
        pass  # æ­£ç¡®æŠ›å‡ºå¼‚å¸¸
```

## æ£€æŸ¥æ¸…å•

- [ ] ç†è§£å¸¸è§é”™è¯¯ç±»å‹(Syntax, Name, Type, Indexç­‰)
- [ ] ä¼šä»ä¸‹å¾€ä¸Šè¯»é”™è¯¯ä¿¡æ¯
- [ ] ä¼šä½¿ç”¨printè°ƒè¯•
- [ ] ä¼šä½¿ç”¨try-exceptå¤„ç†å¼‚å¸¸
- [ ] çŸ¥é“å¦‚ä½•åœ¨VSCodeä¸­è®¾ç½®æ–­ç‚¹
- [ ] ä¼šå‘AI(ChatGPT)æ¸…æ™°æè¿°é—®é¢˜
- [ ] ä¼šGoogleæœç´¢é”™è¯¯ä¿¡æ¯
- [ ] çŸ¥é“å»å“ªé‡ŒæŸ¥å®˜æ–¹æ–‡æ¡£
- [ ] å…»æˆæ·»åŠ æ³¨é‡Šå’Œç±»å‹æç¤ºçš„ä¹ æƒ¯
- [ ] é‡åˆ°é”™è¯¯å…ˆè‡ªå·±æ€è€ƒ,å†æ±‚åŠ©

## è°ƒè¯•å¿ƒæ³•

1. **ä¸è¦æ…Œå¼ ** - æŠ¥é”™æ˜¯æ­£å¸¸çš„,èµ„æ·±ç¨‹åºå‘˜ä¹Ÿå¤©å¤©æŠ¥é”™
2. **ä»”ç»†é˜…è¯»é”™è¯¯ä¿¡æ¯** - 90%çš„ç­”æ¡ˆéƒ½åœ¨æŠ¥é”™é‡Œ
3. **ç¼©å°é—®é¢˜èŒƒå›´** - ç”¨printæˆ–æ–­ç‚¹å®šä½å…·ä½“ä½ç½®
4. **Googleæ˜¯ä½ çš„æœ‹å‹** - ä½ é‡åˆ°çš„é—®é¢˜,åˆ«äºº99%éƒ½é‡åˆ°è¿‡
5. **ä¿æŒä»£ç ç®€æ´** - ä¸€æ¬¡åªåšä¸€ä»¶äº‹,æ–¹ä¾¿è°ƒè¯•
6. **å†™æ³¨é‡Š** - å°†æ¥è°ƒè¯•æ—¶ä¼šæ„Ÿè°¢è¿‡å»çš„è‡ªå·±
7. **ç‰ˆæœ¬æ§åˆ¶** - ç”¨Git,æ”¹å´©äº†å¯ä»¥å›é€€
8. **ä¼‘æ¯ä¸€ä¸‹** - å¡ä½æ—¶ç¦»å¼€ç”µè„‘,æ•£æ•£æ­¥,çµæ„Ÿä¼šæ¥

## ä¸‹ä¸€æ­¥

- **ç¬¬6ç« **: ç”¨ChatGPTå­¦ä¹ ç¼–ç¨‹å’Œè°ƒè¯•
- **ç¬¬7ç« **: AIç¼–ç¨‹å·¥å…·(Copilotè‡ªåŠ¨é¿å…å¸¸è§é”™è¯¯)
- **å®æˆ˜é¡¹ç›®**: åœ¨çœŸå®é¡¹ç›®ä¸­ç»ƒä¹ è°ƒè¯•æŠ€å·§

## å¸¸è§é”™è¯¯é€ŸæŸ¥è¡¨

| é”™è¯¯ç±»å‹ | å«ä¹‰ | å¸¸è§åŸå›  | è§£å†³æ–¹å‘ |
|---------|------|---------|---------|
| `SyntaxError` | è¯­æ³•é”™è¯¯ | æ‹¼å†™ã€ç¼ºå†’å·ã€å¼•å·ä¸åŒ¹é… | æ£€æŸ¥è¯­æ³•è§„åˆ™ |
| `IndentationError` | ç¼©è¿›é”™è¯¯ | ç¼©è¿›ä¸ä¸€è‡´ | ç»Ÿä¸€ç”¨4ç©ºæ ¼æˆ–1Tab |
| `NameError` | åç§°æœªå®šä¹‰ | å˜é‡æ‹¼å†™é”™è¯¯ã€æœªå®šä¹‰ | æ£€æŸ¥å˜é‡å |
| `TypeError` | ç±»å‹é”™è¯¯ | æ“ä½œä¸å…¼å®¹ç±»å‹ | è½¬æ¢ç±»å‹ |
| `ValueError` | å€¼é”™è¯¯ | å€¼ä¸åˆæ³• | éªŒè¯è¾“å…¥ |
| `KeyError` | é”®ä¸å­˜åœ¨ | å­—å…¸é”®åé”™è¯¯ | ç”¨get()æ–¹æ³• |
| `IndexError` | ç´¢å¼•è¶Šç•Œ | è®¿é—®ä¸å­˜åœ¨çš„ç´¢å¼• | æ£€æŸ¥åˆ—è¡¨é•¿åº¦ |
| `AttributeError` | å±æ€§ä¸å­˜åœ¨ | æ–¹æ³•åé”™è¯¯ | æŸ¥çœ‹dir() |
| `ModuleNotFoundError` | æ¨¡å—æœªæ‰¾åˆ° | åŒ…æœªå®‰è£… | pip install |
| `FileNotFoundError` | æ–‡ä»¶ä¸å­˜åœ¨ | è·¯å¾„é”™è¯¯ | æ£€æŸ¥è·¯å¾„ |

## èµ„æºé“¾æ¥

- Pythonå®˜æ–¹é”™è¯¯æ–‡æ¡£: https://docs.python.org/3/library/exceptions.html
- Stack Overflow: https://stackoverflow.com (è‹±æ–‡é—®ç­”ç¤¾åŒº)
- VSCodeè°ƒè¯•æ–‡æ¡£: https://code.visualstudio.com/docs/python/debugging
- Real Pythonè°ƒè¯•æ•™ç¨‹: https://realpython.com/python-debugging-pdb/
